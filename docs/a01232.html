<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&#x202A;libpcl: &#x202A;Library Organization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&#x202A;libpcl
   </div>
   <div id="projectbrief">&#x202A;Portable C Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc PageDocLTR-title"><div class="header">
  <div class="headertitle">
<div class="title">&#x202A;Library Organization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class="DocNodeLTR">Overview of library organization.</p>
<p><a class="anchor" id="md__Users_andrew_projects_libpcl_doxygen_organization"></a></p>
<p class="DocNodeLTR">The PCL library is organized into modules. Each module has its own header file and source directory of the same name. Every function within a module is organized into separate source files. Some modules define a private header, typically _modulename.h, that is used to declare opaque structures or internal functions required to implement the public interface.</p>
<h1 class="DocNodeLTR"><a class="anchor" id="autotoc_md6"></a>
Doxygen Directory</h1>
<p class="DocNodeLTR">The doxygen directory contain resource pulled into the generated documentation: markdown, html, etc. files. The generated documents are stored in a docs directory on a "docs" branch. The Doxyfile configuration file is in the root of the repository.</p>
<h1 class="DocNodeLTR"><a class="anchor" id="autotoc_md7"></a>
Examples Directory</h1>
<p class="DocNodeLTR">This directory contains example programs for different PCL modules. This is a great place to quickly learn how to use PCL; and how easy it is to use.</p>
<h1 class="DocNodeLTR"><a class="anchor" id="autotoc_md8"></a>
Include Directory</h1>
<p class="DocNodeLTR">This contains the "pcl" directory. Every header file is within the pcl directory. This allows installation of pcl header files within a system without running into name conflicts. For eaxmple, installing into <code>/usr/include</code> would place all headers into <code>/usr/include/pcl</code>. When including PCL headers, use <code>#include &lt;pcl/header.h&gt;</code>. Any header file that begins with an underscroe <code>_</code>, should not be included directly.</p>
<h1 class="DocNodeLTR"><a class="anchor" id="autotoc_md9"></a>
Libs Directory</h1>
<p class="DocNodeLTR">This contains 3rd party libraries required for PCL to function properly. This is organized into platform folders that all contain and <code>include</code> directory. For example:</p>
<ul class="DocNodeLTR">
<li>&#x202A;darwin-x86</li>
<li>&#x202A;windows-x86_64</li>
<li>&#x202A;linux-x86</li>
</ul>
<p class="DocNodeLTR">Third-party objects, archives or shared objects are placed in the platform-specific lib directory while the associated headers go into the include directory. <br  />
</p>
<h2 class="DocNodeLTR"><a class="anchor" id="autotoc_md10"></a>
Google FarmHash</h2>
<p class="DocNodeLTR">This is the only library used by all platforms. Each lib directory contains a pre-compiled object file and a <code><a class="el" href="a00050.html">farmhash.h</a></code> file in the include directory. This is only used by the PCL hash table.</p>
<p class="DocNodeLTR">To rebuild or build differently, follow the below instructions.</p>
<p class="DocNodeLTR">For any platform, clone <a href="https://github.com/google/farmhash">https://github.com/google/farmhash</a> and <code>cd</code> into the src directory of the project.</p>
<h3 class="DocNodeLTR"><a class="anchor" id="autotoc_md11"></a>
Windows</h3>
<p class="DocNodeLTR">For windows, open the x64 or x86 Visual Studio prompt and run the below: </p><div class="fragment"><div class="line">cl /nologo /MD /wd4267 /wd4244 /wd4319 /O2 /W3 /DFARMHASH_NO_BUILTIN_EXPECT -c farmhash.cc</div>
</div><!-- fragment --><p class="DocNodeLTR">Copy <a class="el" href="a00050.html">farmhash.h</a> to <code>libs\windows-x86|x86_64\include</code> and farmhash.obj to <code>libs\windows-x86|x86_64</code>.</p>
<h3 class="DocNodeLTR"><a class="anchor" id="autotoc_md12"></a>
Darwin &amp; Linux</h3>
<p class="DocNodeLTR">For Darwin, add <code>-mmacosx-version-min=10.9</code> to the below. For 32-bit builds, add -m32 to the below.</p>
<div class="fragment"><div class="line">gcc -Wall -g0 -mavx -maes -O3 -o farmhash.o -c farmhash.cc</div>
</div><!-- fragment --><p class="DocNodeLTR">Copy <a class="el" href="a00050.html">farmhash.h</a> to <code>libs\linux|darwin-x86|x86_64\include</code> and farmhash.obj to <code>libs\linux|darwin-x86|x86_64</code>.</p>
<h3 class="DocNodeLTR"><a class="anchor" id="autotoc_md13"></a>
POSIX Threads For Windows</h3>
<p class="DocNodeLTR">PCL includes prebuilt binaries for POSIX threads for Windows. To update or build this differently, use the below instructions.</p>
<p class="DocNodeLTR">To build the included pthreads library for windows, you need to download the source here: <a href="https://sourceforge.net/projects/pthreads4w/">https://sourceforge.net/projects/pthreads4w/</a>. Goto the "Files" tab and select the v3 zip file. After unzipping, open a x64 Visual Studio command prompt. </p><div class="fragment"><div class="line">nmake clean VC</div>
</div><!-- fragment --><p class="DocNodeLTR">That will produce a pthreadVC3.lib and pthreadVC3.dll that needs to be copied to <code>libs\windows-x86_64</code> directory. Then copy pthread.h, semaphore.h, sched.h and _ptw32.h to <code>libs\windows-x86_64\include</code></p>
<p class="DocNodeLTR">Follow the above instructions for x86. Open x86 Visual Studio command prompt. Copy the same files to <code>libs\windows-x86</code> and <code>libs\windows-x86\include</code>.</p>
<h1 class="DocNodeLTR"><a class="anchor" id="autotoc_md14"></a>
Src Directory</h1>
<p class="DocNodeLTR">The <code>src</code> directory contains one sub-directory per module. Each sub-directory contains one file per module function, with a CMakeLists.txt file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
</body>
</html>
